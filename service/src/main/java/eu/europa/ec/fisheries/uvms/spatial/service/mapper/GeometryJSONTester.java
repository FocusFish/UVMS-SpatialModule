package eu.europa.ec.fisheries.uvms.spatial.service.mapper;

import com.vividsolutions.jts.geom.Geometry;
import com.vividsolutions.jts.geom.Point;
import com.vividsolutions.jts.io.ParseException;
import com.vividsolutions.jts.io.WKTReader;
import org.geotools.geojson.geom.GeometryJSON;

import java.io.IOException;
import java.io.Reader;
import java.io.StringReader;

/**
 * Created by kopyczmi on 11-Aug-15.
 */
public class GeometryJSONTester {
    public static void main(String[] args) throws IOException, ParseException {
        GeometryJSON gjson = new GeometryJSON();
        String json = "{\"type\":\"Point\",\"coordinates\":[100.1,0.1]}";

        Reader reader = new StringReader(json);
        Point p = gjson.readPoint(reader);
        System.out.println(p);


        WKTReader wktReader = new WKTReader();
        Geometry geometry = wktReader.read("MULTIPOLYGON(((172.420192661 15.1752203660001,172.452425661 14.702977366,172.765569661 14.395662365,173.104850661 13.9175063650001,173.352436661 13.3891863640001,173.501334662 12.8269633640001,173.538764662 12.359142363,173.829017662 11.945808363,173.830959662 11.9416273630001,173.830984662 11.941591363,174.076083662 11.413201363,174.223289662 10.851072362,174.268691662 10.2723683620001,174.268194662 10.2673733620001,174.268587662 10.2623743610001,174.260790662 10.1839153610001,174.421533662 9.83555336100005,174.568134663 9.27347536100007,174.576177663 9.17070636000005,174.853076663 8.77170736000005,174.853484663 8.77081936000008,174.854059663 8.76999136000006,175.096616663 8.24138236000005,175.242390663 7.67919435900006,175.242717663 7.67498935900005,175.244323663 7.66879435900006,175.244567663 7.66563935900007,175.246246663 7.65916435900004,175.283652663 7.17811635900006,175.404089663 6.71353735800005,175.404514663 6.70809035800005,175.405042663 6.70605535800007,175.407338663 6.67663935800005,175.412677663 6.65603935800004,175.413210663 6.64921535800005,175.413608663 6.64767835800006,175.414015663 6.64246535800004,175.467163663 6.43741335800007,175.512488663 5.85868735700006,175.512448663 5.85827635700002,175.512483663 5.85783835700005,175.484469338 5.56935806600006,175.484469315 5.56935805300003,173.608598534 4.95717919800006,173.608598496 4.95717918600008,173.481352566 4.91544252000006,173.480925556 4.91530246100007,172.998118413 4.75694171700007,172.865980932 4.71371975700004,172.712089018 4.66338195600002,172.682322646 4.65362227500003,172.55184584 4.61084204700006,172.496479453 4.59284920800008,172.49553989 4.59254387100003,172.478663626 4.58705946300006,172.091462192 4.50911438700007,171.426793289 4.37531408400002,171.262249659 4.34202235700008,171.262249301 4.34202228500004,171.132833875 4.30080242400004,170.935262234 4.23787425800003,170.817891771 4.19757962200003,170.738278319 3.96577345300005,170.738278076 3.96577274500004,170.587367708 3.52637521700007,170.584687156 3.51855156600004,170.581999524 3.51070724400006,170.499287479 3.26885898200004,170.49927244 3.26881494000003,170.499141116 3.26843037600003,170.498640888 3.26696594600003,170.392050919 2.95529093200003,170.280385409 2.62877474500004,170.280385395 2.62877470200004,170.203657353 2.39869456500003,170.182849706 2.34084590000003,170.152027158 2.25515417700007,170.10710733 2.12930274600006,170.087449499 2.07422759800005,170.055175505 1.98961300800005,169.764059298 1.94650124200007,169.692225613 1.93586330200003,169.626390284 1.92598661500006,169.563557362 1.91656035300002,169.554254598 1.91516915600005,169.534500086 1.91221493500007,169.494126126 1.90617714500007,169.421538869 1.89527483700005,169.360716411 1.88613955400007,169.045916707 1.83834083700003,168.662801153 1.78016914300002,168.59810512 1.77028029500002,168.413648657 1.83418235400006,168.019619656 1.96992435400006,167.934040656 1.99942235400005,167.733006656 2.06877635400002,167.619732656 2.10778335400005,166.937356655 2.34183135400002,166.681926655 2.42990035400004,166.148882655 2.61286635400006,165.954234655 2.67833035400002,165.932968655 2.71173135400005,165.774808654 2.93540035500007,165.774771654 2.93547835500004,165.757780654 2.95949435500006,165.632144654 3.21136735500005,165.635850654 3.24322135500006,165.674719654 3.57584035500003,165.671196654 3.63543635500002,165.667460654 3.69836035500003,165.667320654 3.70073135500007,165.656110654 3.89146035600004,165.642247654 4.13296535600006,165.595459654 4.94126135700003,165.590981654 5.02236235700002,165.590490654 5.03153935700004,165.572818654 5.31526135700005,165.572727654 5.31671935700007,165.572636654 5.31818835700005,165.560385654 5.51678635700006,165.553813654 5.62790635700003,165.523040654 6.14439035800007,165.515262654 6.29183935800006,164.855610654 6.79211635800004,164.669818653 6.93275135800008,164.370569653 7.15950935900003,163.073531652 8.04966835900007,163.017656652 8.02474335900007,163.002906652 8.01813935900003,162.918155652 7.98053635900004,162.890280652 7.96816935900006,162.701252652 7.88410435900005,162.621836651 7.84887735900003,161.796939651 7.91733235900006,161.695968651 7.92555135900005,161.54543565 7.93833135900007,161.01627965 7.98361335900006,160.97837065 7.99819335900003,160.82453265 8.05707035900002,160.63185365 8.13015036000007,160.501651649 8.17929536000003,160.480733649 8.18716336000006,160.335577649 8.24101736000006,160.165669649 8.30385236000006,159.920620649 8.38123136000007,159.874072649 8.39607436000006,159.776070649 8.42723236000006,159.395942648 8.54807136000005,159.082333648 8.81839136000002,158.384720648 9.43152136100002,158.029955647 9.80873636100006,158.009249647 9.83086136100007,157.763411647 10.093016361,157.472641647 10.402441362,157.607141647 10.941486362,157.847696647 11.4714793630001,158.179367647 11.9523263630001,158.179761647 11.9527243630001,158.180368647 11.9536033630001,158.593436648 12.3704333630001,158.894075648 12.5825363640001,158.901118648 12.5978793640001,158.940848648 12.751997364,159.184407648 13.281428364,159.519723649 13.7613273650001,159.520753649 13.7623553650001,159.522712649 13.7651533650001,159.939976649 14.180644365,160.426623649 14.518760365,160.430064649 14.5203553650001,160.438693649 14.5263363650001,160.445509649 14.5294953650001,160.454806649 14.535939365,160.455160649 14.536102365,160.456818649 14.537251365,160.99797665 14.787315366,161.00400865 14.788929366,161.00403865 14.7889423660001,161.01265665 14.7912473660001,161.03333765 14.800774366,161.612121651 14.9548593660001,162.210248651 15.008134366,162.212869651 15.0079223660001,162.215304651 15.008136366,162.813845652 14.9588863660001,162.823621652 14.9563663660001,162.843221652 14.954731366,163.423199652 14.8044603660001,163.740506652 14.660650366,164.107736653 14.8252863660001,164.120561653 14.8285683660001,164.136043653 14.835493366,164.137587653 14.8358873660001,164.142121653 14.8379153660001,164.722980653 14.985798366,165.321895654 15.0326413660001,165.322357654 15.0325993660001,165.322900654 15.0326413660001,165.426429654 15.0230943660001,165.431295654 15.023467366,165.433522654 15.023262366,165.446510654 15.024258366,165.446969654 15.0242163660001,165.447515654 15.024258366,165.532930654 15.0162713660001,165.541179654 15.1200663660001,165.691008654 15.6824913670001,165.858614654 16.0373153670001,166.268825655 16.223459367,166.657593655 16.4082043670001,166.688936655 16.423045367,167.713932656 16.9049143680001,169.006423657 17.5014983680001,169.839400658 17.879699369,170.222942659 17.7773923680001,170.223659659 17.777064368,170.223947659 17.7769873680001,170.348300659 17.719924368,170.772636659 17.524405368,171.26526866 17.183711368,171.26888366 17.180136368,171.26927066 17.179868368,171.44293166 17.007900368,171.69064566 16.761884368,172.02812166 16.279793367,172.03170366 16.2720083670001,172.03301566 16.270128367,172.10177966 16.120550367,172.27678966 15.7389833670001,172.420192661 15.1752203660001),(168.976072657 14.582772366,168.981081657 14.580272366,168.987727657 14.5808273660001,169.001981657 14.594027366,168.985227657 14.590554366,168.976072657 14.582772366),(162.324963651 11.352772363,162.332736651 11.3508273630001,162.339445651 11.357118363,162.324963651 11.352772363),(169.961772658 10.4347183620001,169.969972658 10.4322183620001,169.971618658 10.4363903620001,169.962872658 10.444999362,169.948772658 10.4497183620001,169.961772658 10.4347183620001),(165.527190654 9.19889036100005,165.531372654 9.19610936100003,165.537127654 9.20118136100007,165.525818654 9.21423636100008,165.527190654 9.19889036100005),(167.725372656 8.72805436000004,167.731899656 8.72471836000005,167.740663656 8.72694536000006,167.744963656 8.73639036000003,167.739536656 8.74569036000003,167.725372656 8.72805436000004),(168.767208657 7.28971835900006,168.786372657 7.28889035900005,168.768036657 7.29833635900007,168.672336657 7.33013635900005,168.671236657 7.31986335900007,168.690799657 7.30833635900007,168.701627657 7.30527235900007,168.767208657 7.28971835900006),(171.36177266 7.12009935900005,171.37562766 7.11446335900007,171.37806366 7.11857235900004,171.37488166 7.12801835900007,171.36161866 7.13624535900004,171.35856366 7.13137235900007,171.36177266 7.12009935900005),(168.105654657 5.60139035700007,168.113590657 5.60027235700005,168.119945657 5.60416335700006,168.130981657 5.62236335700004,168.126481657 5.63847235700007,168.094972657 5.61069035700007,168.105654657 5.60139035700007)))");
        System.out.println(geometry);

        String s = gjson.toString(geometry);
        System.out.println(s.substring(1, s.length()-1));
    }
}
