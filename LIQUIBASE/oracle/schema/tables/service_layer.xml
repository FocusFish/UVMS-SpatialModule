<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet author="padhyad (generated)" id="1461666113417-20">
        <createSequence cacheSize="20" cycle="false" incrementBy="1" maxValue="9999999999999999999999999999" minValue="1" ordered="false" sequenceName="service_layer_id_seq" startValue="1"/>
    </changeSet>

    <changeSet author="padhyad (generated)" id="1461666113417-43">
        <createTable tableName="service_layer">
            <column name="id" valueComputed="service_layer_id_seq.NEXTVAL" type="NUMBER(11, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="NUMBER(20, 0)"/>
            <column name="name" type="NVARCHAR2(255)">
                <constraints nullable="false"/>
            </column>
            <column name="layer_desc" type="NVARCHAR2(255)"/>
            <column name="provider_format_id" type="NUMBER(11, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="service_url" type="NCLOB"/>
            <column name="geo_name" type="NVARCHAR2(255)"/>
            <column name="srs_code" type="NUMBER(11, 0)"/>
            <column name="short_copyright" type="NVARCHAR2(255)"/>
            <column name="long_copyright" type="NCLOB"/>
            <column name="is_internal" type="NCHAR(1)">
                <constraints nullable="false"/>
            </column>
            <column name="style_geom" type="NVARCHAR2(255)"/>
            <column name="style_label" type="NVARCHAR2(255)"/>
            <column name="style_label_geom" type="NVARCHAR2(255)"/>
            <column name="subtype" type="NVARCHAR2(255)"/>
        </createTable>
    </changeSet>

    <changeSet author="padhyad (generated)" id="1461666113417-57">
        <addPrimaryKey columnNames="id" constraintName="layer_pkey" tableName="service_layer"/>
    </changeSet>

    <changeSet author="padhyad (generated)" id="1461666113417-77">
        <addForeignKeyConstraint baseColumnNames="service_layer_id" baseTableName="report_connect_service_areas" constraintName="fk_service_layer" deferrable="true" initiallyDeferred="true" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="service_layer"/>
    </changeSet>

    <changeSet author="padhyad (generated)" id="1461666113417-78">
        <addForeignKeyConstraint baseColumnNames="service_layer_id" baseTableName="area_location_types" constraintName="fk_service_layer_id" deferrable="true" initiallyDeferred="true" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="service_layer"/>
    </changeSet>
    
</databaseChangeLog>