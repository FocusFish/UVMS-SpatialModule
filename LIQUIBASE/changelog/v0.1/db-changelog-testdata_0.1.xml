<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:spatial="http://www.liquibase.org/xml/ns/dbchangelog-ext/liquibase-spatial"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd   http://www.liquibase.org/xml/ns/dbchangelog-ext/liquibase-spatial
      http://lonnyj.github.com/liquibase-spatial/liquibase-spatial.xsd">

    <changeSet author="kopyczmi" id="user_areas_data">
        <loadData file="test/csv/user_areas.csv" tableName="user_areas"/>
        <comment>Data</comment>
    </changeSet>

    <changeSet author="kopyczmi" id="1437740656371-23">
        <preConditions>
            <spatial:spatialSupported/>
        </preConditions>
        <createTable tableName="countries">
            <column autoIncrement="true" name="gid" type="SERIAL">
                <constraints primaryKey="true" primaryKeyName="countries_pkey"/>
            </column>
            <column name="geom" type="GEOMETRY(MultiPolygon, 4326)"/>
            <column name="sovereignt" type="VARCHAR(32)"/>
            <column name="sov_a3" type="VARCHAR(3)"/>
            <column name="type" type="VARCHAR(17)"/>
            <column name="admin" type="VARCHAR(40)"/>
            <column name="code" type="VARCHAR(3)"/>
            <column name="name" type="VARCHAR(36)"/>
            <column name="name_long" type="VARCHAR(40)"/>
            <column name="pop_est" type="FLOAT8"/>
            <column name="gdp_md_est" type="FLOAT8"/>
            <column name="income_grp" type="VARCHAR(23)"/>
            <column name="continent" type="VARCHAR(23)"/>
            <column name="region_un" type="VARCHAR(23)"/>
            <column name="subregion" type="VARCHAR(25)"/>
            <column name="region_wb" type="VARCHAR(26)"/>
			<column name="enabled" type="BPCHAR(1)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <sql>create index sidx_countries_geom on spatial.countries using gist(geom)</sql>
    </changeSet>

    <changeSet author="kopyczmi" id="countries">
        <loadData file="test/csv/countries.csv" tableName="countries"/>
        <comment>Data</comment>
    </changeSet>
    
    <changeSet author="padhyad" id="customAreas">
        <loadData file="test/csv/customAreas.csv" tableName="custom_areas"/>
        <comment>customAreas</comment>
    </changeSet>
    
    <changeSet author="padhyad" id="customAreaProperties">
        <loadData file="test/csv/customAreaProperties.csv" tableName="custom_area_properties"/>
        <comment>customAreaProperties</comment>
    </changeSet>

</databaseChangeLog>